\section*{Question 6: Metamorphic Testing (20 points)}

In this question, you will write two metamorphic tests: one which
I specify and one which you can choose.
The context is the REST API for Piwigo, an image gallery.
You are going to write tests for various API calls.

In your skeleton repository, under \texttt{a1q6}, you'll find
\texttt{piwigo\_metamorphic\_test\_suite.py}, where you will add
your tests.

I've supplied a sample metamorphic test, which verifies that the
set of images tagged ``bird'' \emph{and} ``fauna'' is a subset
of the set of images tagged ``bird'' \emph{or} ``fauna''.

\paragraph{Tag inequality.}
Another metamorphic property is that the sum of the number of images
returned (as the \texttt{counter} field) for each of the tags is
greater than or equal to the number of tagged images.

For example: let's say that there are two tags, ``a'' and ``b'', and
four images.
Images \{1, 2, 3\} are tagged ``a'', while images \{1, 2, 4\} are tagged
``b''. If you sum the number of images tagged as ``a'' and the number of images tagged ``b'',
then you will get 6 images---but certainly at least 4:
\[ \#(A) + \#(B) \ge \# (A+B), \]
or, more specifically,
\[ 3 + 3 \ge 4. \]

(5 points) Write a test that calls \texttt{pwg.tags.getList} and
sums the number of images reported in the \texttt{counter} for each of
the tags. Next, the test calls \texttt{pwg.tags.getImages},
passing it all of the reported tag ids, and creating an overall set
of images which have a tag of any sort. Finally, the test must assert
that the sum of the number of images returned by \texttt{getList} is greater than
or equal to the number of images returned by \texttt{getImages}.

\paragraph{Your choice.} (15 points) Look through the piwigo
API, which you can explore at \url{https://gallery.patricklam.ca/tools/ws.htm},
and find a different metamorphic relation. You don't have permission
to make any changes on my gallery, but there are still other relations
that exist between methods that you are allowed to call.

For instance, you can call \texttt{pwg.images.search} and pass it some
query (a query is just a string that it searches for). Find somewhere
else in the API where there should be information that is consistent
with the \texttt{search} result. (Note that some APIs are ``admin only'',
as indicated in the API explorer, and you can't call them.) There
are also some metamorphic relations under \texttt{pwg.categories.*}.
You don't have to do anything I've mentioned; it just has to combine
results from different parts of the Piwigo API.

Implement your test in \texttt{test\_students\_choice\_metamorphic}
and write a doc comment above this function briefly explaining your
metamorphic relation.
